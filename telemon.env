# WireGuard Monitor Configuration
# Enhanced version with comprehensive settings

# =============================================================================
# TELEGRAM SETTINGS (Required)
# =============================================================================

# Telegram Bot Token (get from @BotFather)
# Format: 123456789:ABCdefGhIjKlmnoPQRsTUVwxyz
BOT_TOKEN=

# Telegram Chat ID (get from @userinfobot or group)
# For private chat: positive number (123456789)
# For group/channel: negative number (-123456789)
CHAT_ID=

# =============================================================================
# CONTAINER SETTINGS (Required)
# =============================================================================

# WireGuard container names (space-separated for multiple)
# Examples:
#   Single container: WG_CONTAINERS="wireguard"
#   Multiple containers: WG_CONTAINERS="wg-server-1 wg-server-2 wg-client"
WG_CONTAINERS="wireguard"

# Legacy support (deprecated, use WG_CONTAINERS instead)
# WG_CONTAINER="wireguard"

# =============================================================================
# WIREGUARD INTERFACE SETTINGS
# =============================================================================

# WireGuard interface name inside the container
# Most common: wg0, wg1, etc.
WG_IFACE="wg0"

# Handshake age threshold in seconds
# Alert when peer handshake is older than this value
# Common values:
#   300 (5 minutes) - strict monitoring
#   600 (10 minutes) - normal monitoring  
#   1800 (30 minutes) - relaxed monitoring
THRESHOLD=300

# =============================================================================
# MONITORING BEHAVIOR
# =============================================================================

# Logging level: DEBUG, INFO, WARN, ERROR
LOG_LEVEL="INFO"

# Alert cooldown period in seconds
# Prevents spam by limiting repeated alerts for the same issue
# Default: 3600 seconds (1 hour)
ALERT_COOLDOWN=3600

# Maximum retry attempts for Telegram messages
# Default: 3
MAX_RETRIES=3

# =============================================================================
# ADVANCED SETTINGS (Optional)
# =============================================================================

# Custom log file path
# Default: /var/log/wg-monitor.log
# WG_MONITOR_LOG="/var/log/wg-monitor.log"

# Enable extended peer information in alerts
# Shows peer public keys and connection details
# Values: true, false
# EXTENDED_PEER_INFO="false"

# Custom message format for alerts
# Available variables: {hostname}, {timestamp}, {container}, {interface}
# ALERT_FORMAT="ðŸš¨ WireGuard Alert on {hostname}"

# Enable health check endpoint
# Creates /tmp/wg-monitor-health file with timestamp
# Useful for external monitoring systems
# ENABLE_HEALTH_CHECK="true"

# =============================================================================
# DOCKER SETTINGS (Advanced)
# =============================================================================

# Docker connection settings
# Usually not needed, uses default Docker socket
# DOCKER_HOST="unix:///var/run/docker.sock"

# Container inspection timeout in seconds
# CONTAINER_TIMEOUT=30

# =============================================================================
# NOTIFICATION SETTINGS (Advanced)
# =============================================================================

# Enable startup notification
# Sends a message when the monitor starts
# STARTUP_NOTIFICATION="false"

# Enable recovery notifications
# Sends a message when issues are resolved
# RECOVERY_NOTIFICATION="true"

# Notification template customization
# NOTIFICATION_TEMPLATES_DIR="/etc/wg-monitor/templates"

# =============================================================================
# EXAMPLE CONFIGURATIONS
# =============================================================================

# Example 1: Basic single container setup
# BOT_TOKEN="123456789:ABCdefGhIjKlmnoPQRsTUVwxyz"
# CHAT_ID="123456789"
# WG_CONTAINERS="wireguard"
# THRESHOLD=600

# Example 2: Multiple containers with strict monitoring
# BOT_TOKEN="123456789:ABCdefGhIjKlmnoPQRsTUVwxyz"
# CHAT_ID="-987654321"
# WG_CONTAINERS="wg-server-1 wg-server-2 wg-client-mobile"
# WG_IFACE="wg0"
# THRESHOLD=300
# LOG_LEVEL="DEBUG"
# ALERT_COOLDOWN=1800

# Example 3: High availability setup with custom settings
# BOT_TOKEN="123456789:ABCdefGhIjKlmnoPQRsTUVwxyz" 
# CHAT_ID="123456789"
# WG_CONTAINERS="wg-primary wg-backup"
# THRESHOLD=180
# MAX_RETRIES=5
# ALERT_COOLDOWN=900
# EXTENDED_PEER_INFO="true"
# STARTUP_NOTIFICATION="true"
